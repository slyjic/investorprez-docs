<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOMAIN ARCHITECTURE - InvestorPrez Documentation</title>
    <meta name="description" content="InvestorPrez documentation">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #fff;
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .nav-bar {
            background: #667eea;
            color: white;
            padding: 1rem;
            margin: -2rem -2rem 2rem -2rem;
            border-radius: 0;
        }
        
        .nav-bar a {
            color: white;
            text-decoration: none;
            margin-right: 1rem;
        }
        
        .nav-bar a:hover {
            text-decoration: underline;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #2d3748;
            margin: 1.5rem 0 1rem 0;
        }
        
        h1 {
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0.5rem;
        }
        
        p {
            margin: 1rem 0;
        }
        
        a {
            color: #667eea;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        pre {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        code {
            background: #f7fafc;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-size: 0.9em;
        }
        
        pre code {
            background: none;
            padding: 0;
        }
        
        blockquote {
            border-left: 4px solid #667eea;
            padding-left: 1rem;
            margin: 1rem 0;
            font-style: italic;
            color: #666;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1rem 0;
        }
        
        th, td {
            border: 1px solid #e2e8f0;
            padding: 0.5rem;
            text-align: left;
        }
        
        th {
            background: #f7fafc;
            font-weight: 600;
        }
        
        ul, ol {
            margin: 1rem 0 1rem 2rem;
        }
        
        .footer {
            margin-top: 3rem;
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0;
            text-align: center;
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="nav-bar">
        <a href="../../../">🏠 Home</a>
        <a href="../../">📚 Documentation</a>
        <a href="https://app.investorprez.com">🚀 InvestorPrez App</a>
    </div>
    
    <h1 id="domain-architecture-guide">Domain Architecture Guide</h1>
    <p><em>Last Updated: July 23, 2025</em><br />
    <em>Status: Current - v1.4.0</em></p>
    <h2 id="domain-structure-overview">🌐 Domain Structure Overview</h2>
    <p>InvestorPrez uses a subdomain-based architecture to separate the
    marketing site from the application:</p>
    <h3 id="production-domains">Production Domains</h3>
    <table>
    <colgroup>
    <col style="width: 23%" />
    <col style="width: 26%" />
    <col style="width: 26%" />
    <col style="width: 23%" />
    </colgroup>
    <thead>
    <tr>
    <th>Domain</th>
    <th>Purpose</th>
    <th>Hosting</th>
    <th>Status</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td><code>investorprez.com</code></td>
    <td>Marketing website</td>
    <td>Vercel (separate project)</td>
    <td>🟡 To be deployed</td>
    </tr>
    <tr>
    <td><code>app.investorprez.com</code></td>
    <td>React application</td>
    <td>Vercel (current project)</td>
    <td>✅ Active</td>
    </tr>
    <tr>
    <td><code>api.investorprez.com</code></td>
    <td>Backend API</td>
    <td>Railway</td>
    <td>✅ Active</td>
    </tr>
    </tbody>
    </table>
    <h3 id="url-structure">URL Structure</h3>
    <pre><code>Marketing Site (investorprez.com):
├── / (homepage)
├── /about
├── /pricing  
├── /contact
├── /blog
└── /p/* (presentation proxy - redirects to app)

Application (app.investorprez.com):
├── /login
├── /dashboard
├── /editor/*
├── /p/* (published presentations)
└── /profile

API (api.investorprez.com):
├── /api/auth/*
├── /api/presentations/*
├── /p/* (public presentation data)
└── /api/admin/*</code></pre>
    <h2 id="configuration">🔧 Configuration</h2>
    <h3 id="environment-variables">Environment Variables</h3>
    <p><strong>Frontend (Vercel - App):</strong></p>
    <div class="sourceCode" id="cb2"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="va">VITE_API_BASE_URL</span><span class="op">=</span>https://api.investorprez.com/api</span></code></pre></div>
    <p><strong>Backend (Railway):</strong></p>
    <div class="sourceCode" id="cb3"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="va">FRONTEND_URL</span><span class="op">=</span>https://app.investorprez.com</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="va">PUBLIC_DOMAIN</span><span class="op">=</span>https://app.investorprez.com</span></code></pre></div>
    <h3 id="cors-configuration">CORS Configuration</h3>
    <p>Backend allows requests from: -
    <code>https://app.investorprez.com</code> (React app) -
    <code>https://investorprez.com</code> (marketing site - for
    presentation proxying)</p>
    <h2 id="marketing-site-setup-instructions">📋 Marketing Site Setup
    Instructions</h2>
    <h3 id="create-separate-vercel-project">1. Create Separate Vercel
    Project</h3>
    <ol type="1">
    <li>Create new Vercel project for marketing site</li>
    <li>Add custom domain: <code>investorprez.com</code></li>
    <li>Configure DNS records as instructed by Vercel</li>
    </ol>
    <h3 id="presentation-proxying">2. Presentation Proxying</h3>
    <p>The marketing site should handle <code>/p/*</code> routes by
    either:</p>
    <p><strong>Option A: Redirect to App</strong></p>
    <div class="sourceCode" id="cb4"><pre
    class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">// In marketing site routing</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (path<span class="op">.</span><span class="fu">startsWith</span>(<span class="st">&#39;/p/&#39;</span>)) {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">redirect</span>(<span class="vs">`https://app.investorprez.com</span><span class="sc">${</span>path<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
    <p><strong>Option B: Proxy Content (Advanced)</strong></p>
    <div class="sourceCode" id="cb5"><pre
    class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Fetch from API and render in marketing site layout</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> presentationData <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="vs">`https://api.investorprez.com/p/</span><span class="sc">${</span>slug<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span></code></pre></div>
    <h3 id="dns-configuration">3. DNS Configuration</h3>
    <p><strong>Required DNS Records:</strong></p>
    <pre><code>Type: A
Name: @
Value: 76.76.19.61 (Vercel IP - check current)

Type: CNAME  
Name: www
Value: cname.vercel-dns.com</code></pre>
    <h2 id="important-notes">⚠️ Important Notes</h2>
    <ol type="1">
    <li><strong>Published Presentations</strong>: Currently use
    <code>app.investorprez.com/p/*</code> URLs</li>
    <li><strong>SEO</strong>: Marketing site should have proper meta
    tags and sitemaps</li>
    <li><strong>Analytics</strong>: Both sites can share the same GA4
    property with different data streams</li>
    <li><strong>SSL</strong>: Vercel handles SSL certificates
    automatically for both domains</li>
    </ol>
    <h2 id="migration-checklist">🚨 Migration Checklist</h2>
    <ul class="task-list">
    <li><label><input type="checkbox" checked="" />Remove
    <code>investorprez.com</code> from React app Vercel
    project</label></li>
    <li><label><input type="checkbox" checked="" />Update
    <code>PUBLIC_DOMAIN</code> to
    <code>https://app.investorprez.com</code> in Railway</label></li>
    <li><label><input type="checkbox" checked="" />Update production
    environment documentation</label></li>
    <li><label><input type="checkbox" />Create marketing site Vercel
    project</label></li>
    <li><label><input type="checkbox" />Add
    <code>investorprez.com</code> domain to marketing site
    project</label></li>
    <li><label><input type="checkbox" />Configure DNS
    records</label></li>
    <li><label><input type="checkbox" />Set up presentation routing in
    marketing site</label></li>
    <li><label><input type="checkbox" />Test cross-domain
    functionality</label></li>
    </ul>
    <hr />
    <p><em>This architecture ensures clear separation between marketing
    and application while maintaining seamless user experience.</em></p>
    
    <div class="footer">
        <p>InvestorPrez Documentation | <a href="https://investorprez.github.io/investorprez-docs/">Documentation Home</a></p>
    </div>
</body>
</html>
